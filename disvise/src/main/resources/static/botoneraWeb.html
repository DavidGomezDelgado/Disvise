<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Botonera de Avisos</title>
    <style>
        body { font-family: Arial; padding: 20px; }
        .formulario { display: none; margin-top: 10px; }
        .respuesta { margin-top: 20px; color: green; }
        .boton { margin-bottom: 10px; }
    </style>
</head>
<body>
<h2>Simulación de Botonera</h2>

<div class="botonera">
    <button onclick="mostrarFormulario()">Crear Aviso</button>
</div>

<div class="formulario" id="formulario">
    <label>Prioridad: <input type="number" id="priority"></label><br>
    <label>Magic Number: <input type="number" id="magicNumber" value="123456"></label><br>
    <label>Función: <input type="number" id="function"></label><br>
    <label>Destino: <input type="text" id="destiny" value></label><br>
    <button onclick="enviarAviso()">Enviar</button>
</div>

<div class="respuesta" id="respuesta"></div>

<script>
    function mostrarFormulario() {
      document.getElementById('formulario').style.display = 'block';
    }

    function enviarAviso() {
      const priority = document.getElementById('priority').value;
      const magicNumber = document.getElementById('magicNumber').value;
      const func = document.getElementById('function').value;
      const destiny = document.getElementById('destiny').value;

      const url = `http://localhost:8080/${priority}/${magicNumber}/${func}/${destiny}`;

      fetch(url)
        .then(response => response.text())
        .then(data => {
          document.getElementById('respuesta').innerText = "Respuesta: " + data;
        })
        .catch(error => {
          document.getElementById('respuesta').innerText = "Error al enviar: " + error;
        });
    }
</script>
</body>
</html>